<script setup>
import { ref, watch, computed } from 'vue'
import { LMap, LTileLayer, LMarker, LPopup, LGeoJson } from '@vue-leaflet/vue-leaflet'
import 'leaflet/dist/leaflet.css'

import { collection, getDocs } from 'firebase/firestore'
import { firestore } from '@/lib/firebase'

// KODE UNTUK MEMPERBAIKI IKON MARKER DEFAULT LEAFLET
import { Icon } from 'leaflet';
delete Icon.Default.prototype._getIconUrl;
Icon.Default.mergeOptions({
  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',
  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',
  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
});

// Definisi ikon di dalam setup() jika ingin reaktif atau terikat ke komponen
const unionIcon = new Icon({
  iconUrl: '/images/union.png', 
  iconSize: [37, 27], 
  iconAnchor: [18, 27],
  popupAnchor: [0, -27]
});
// AKHIR KODE IKON LEAFLET

const props = defineProps({
    areas: {
        type: Array,
        default: () => []
    }
})

const db = firestore
const areas = ref([])
const isLoading = ref(true)

// Data GeoJSON Area  Malang Klojen 1 & 2
const multipleAreasGeoJson = ref(
  {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              112.4999429411446,
              -7.933284500306369,
              0
            ],
            [
              112.4858533234822,
              -7.933098064703987,
              0
            ],
            [
              112.5072622495428,
              -7.942574656002336,
              0
            ],
            [
              112.5190414877744,
              -7.951022079812952,
              0
            ],
            [
              112.5245568256604,
              -7.954063369045285,
              0
            ],
            [
              112.5341196779986,
              -7.952666713181384,
              0
            ],
            [
              112.5408272738016,
              -7.951440046933,
              0
            ],
            [
              112.5435230251373,
              -7.951821988968659,
              0
            ],
            [
              112.548149639585,
              -7.952158148649086,
              0
            ],
            [
              112.5516251897337,
              -7.953185679294501,
              0
            ],
            [
              112.5567664835285,
              -7.953883335936078,
              0
            ],
            [
              112.5605464326881,
              -7.956740526177162,
              0
            ],
            [
              112.5656636910876,
              -7.960293505111694,
              0
            ],
            [
              112.5706859995558,
              -7.960846156513889,
              0
            ],
            [
              112.5749277655822,
              -7.961671121146087,
              0
            ],
            [
              112.5764346146752,
              -7.961743965265442,
              0
            ],
            [
              112.5803605093101,
              -7.964770516373622,
              0
            ],
            [
              112.5829245292113,
              -7.966788339924351,
              0
            ],
            [
              112.5867444050384,
              -7.968348677311545,
              0
            ],
            [
              112.5884164865453,
              -7.969205641436158,
              0
            ],
            [
              112.5919022495818,
              -7.971838095529921,
              0
            ],
            [
              112.5937077880083,
              -7.97045739042684,
              0
            ],
            [
              112.594123827154,
              -7.969030095869137,
              0
            ],
            [
              112.5945136133948,
              -7.968140210873672,
              0
            ],
            [
              112.5948431803586,
              -7.9674837512572,
              0
            ],
            [
              112.5980379654872,
              -7.968843693304424,
              0
            ],
            [
              112.6013122620112,
              -7.970298885233359,
              0
            ],
            [
              112.6025360072222,
              -7.970816932381606,
              0
            ],
            [
              112.60296572254,
              -7.970964943244,
              0
            ],
            [
              112.6034536911322,
              -7.971340014161414,
              0
            ],
            [
              112.6045553579597,
              -7.971306957446877,
              0
            ],
            [
              112.6059240940522,
              -7.972199614143471,
              0
            ],
            [
              112.6060515708556,
              -7.972437145324093,
              0
            ],
            [
              112.6066033859605,
              -7.972262515045736,
              0
            ],
            [
              112.6075136522793,
              -7.972532128484858,
              0
            ],
            [
              112.609129400446,
              -7.972954286202487,
              0
            ],
            [
              112.6092346576157,
              -7.972962256372651,
              0
            ],
            [
              112.6110183543615,
              -7.973153183328032,
              0
            ],
            [
              112.6131638310168,
              -7.97327213477085,
              0
            ],
            [
              112.615617066077,
              -7.973396310862365,
              0
            ],
            [
              112.6158919805408,
              -7.973689577321562,
              0
            ],
            [
              112.6164839182822,
              -7.974124610240105,
              0
            ],
            [
              112.6169069502452,
              -7.974356333712895,
              0
            ],
            [
              112.6174881919755,
              -7.974631087754859,
              0
            ],
            [
              112.6181912574815,
              -7.974859631364559,
              0
            ],
            [
              112.6190768301777,
              -7.975128586776472,
              0
            ],
            [
              112.6197272737811,
              -7.975405461281013,
              0
            ],
            [
              112.6206012994272,
              -7.975868170863739,
              0
            ],
            [
              112.6207536166274,
              -7.9752899073197,
              0
            ],
            [
              112.6213465457834,
              -7.973161277799109,
              0
            ],
            [
              112.6215457789582,
              -7.972434986197,
              0
            ],
            [
              112.6224337995913,
              -7.97078507955945,
              0
            ],
            [
              112.6235409968633,
              -7.968826756008259,
              0
            ],
            [
              112.6238117509569,
              -7.968256849210715,
              0
            ],
            [
              112.6245219261356,
              -7.966409021542078,
              0
            ],
            [
              112.6249724818024,
              -7.964977869103267,
              0
            ],
            [
              112.625105633611,
              -7.964396169475497,
              0
            ],
            [
              112.6254111440931,
              -7.963382609642082,
              0
            ],
            [
              112.6257620013283,
              -7.962605088741901,
              0
            ],
            [
              112.6258836154021,
              -7.962273872953365,
              0
            ],
            [
              112.6263650102107,
              -7.962093207641455,
              0
            ],
            [
              112.6262316201299,
              -7.96174761977357,
              0
            ],
            [
              112.6261505427652,
              -7.961235741166289,
              0
            ],
            [
              112.6263951962334,
              -7.960819853842141,
              0
            ],
            [
              112.6264408005297,
              -7.96048598714819,
              0
            ],
            [
              112.6264382662311,
              -7.960179863317318,
              0
            ],
            [
              112.6262563673359,
              -7.959913672398086,
              0
            ],
            [
              112.6259168593519,
              -7.959607647621739,
              0
            ],
            [
              112.6257112236561,
              -7.959263263105356,
              0
            ],
            [
              112.6256359822011,
              -7.958920858037977,
              0
            ],
            [
              112.6255346354266,
              -7.958549494309775,
              0
            ],
            [
              112.6250507137941,
              -7.958356285634838,
              0
            ],
            [
              112.6246208932498,
              -7.958112447901702,
              0
            ],
            [
              112.624400469266,
              -7.957899165213012,
              0
            ],
            [
              112.6243725999755,
              -7.957584937320934,
              0
            ],
            [
              112.6245752889894,
              -7.957055483416243,
              0
            ],
            [
              112.6247450416593,
              -7.956405598341043,
              0
            ],
            [
              112.6246689908704,
              -7.956100430517352,
              0
            ],
            [
              112.6244485668361,
              -7.956065301848879,
              0
            ],
            [
              112.6240229219582,
              -7.956092903156524,
              0
            ],
            [
              112.6236126983779,
              -7.955875826190091,
              0
            ],
            [
              112.6229907052472,
              -7.955070973437923,
              0
            ],
            [
              112.6227170781837,
              -7.954867726542388,
              0
            ],
            [
              112.6222543407275,
              -7.954632301610003,
              0
            ],
            [
              112.621514532469,
              -7.954125435011337,
              0
            ],
            [
              112.6207249779234,
              -7.953233723394338,
              0
            ],
            [
              112.620348939944,
              -7.952982868207553,
              0
            ],
            [
              112.6196195872814,
              -7.952210328086133,
              0
            ],
            [
              112.6192011551726,
              -7.951942701889188,
              0
            ],
            [
              112.6189217703034,
              -7.951631474345645,
              0
            ],
            [
              112.618377056552,
              -7.951347925813312,
              0
            ],
            [
              112.6178886377774,
              -7.951141016716235,
              0
            ],
            [
              112.6173667289016,
              -7.950854958224546,
              0
            ],
            [
              112.6168341873233,
              -7.950426497104145,
              0
            ],
            [
              112.6163621491975,
              -7.949929664802326,
              0
            ],
            [
              112.6159213193537,
              -7.949518145990007,
              0
            ],
            [
              112.6153923417219,
              -7.950204777505543,
              0
            ],
            [
              112.615084330872,
              -7.949981748038046,
              0
            ],
            [
              112.6155935947333,
              -7.949244051525758,
              0
            ],
            [
              112.6155657335762,
              -7.948850364540445,
              0
            ],
            [
              112.6151793419548,
              -7.948550986140955,
              0
            ],
            [
              112.6147905219857,
              -7.948023712919969,
              0
            ],
            [
              112.614661326101,
              -7.947410873228116,
              0
            ],
            [
              112.6144161404134,
              -7.946862664787155,
              0
            ],
            [
              112.6139902142503,
              -7.946551542463538,
              0
            ],
            [
              112.6139339472011,
              -7.946061378877429,
              0
            ],
            [
              112.613621428541,
              -7.945527570796545,
              0
            ],
            [
              112.6132692804797,
              -7.944850071049975,
              0
            ],
            [
              112.6131628858897,
              -7.94435033947177,
              0
            ],
            [
              112.6127026904084,
              -7.943960394627951,
              0
            ],
            [
              112.6127519044888,
              -7.943630931478165,
              0
            ],
            [
              112.612737460827,
              -7.943134722548441,
              0
            ],
            [
              112.6126322435164,
              -7.942613237471056,
              0
            ],
            [
              112.6129019738607,
              -7.942218106456389,
              0
            ],
            [
              112.6129491512375,
              -7.941703743563814,
              0
            ],
            [
              112.6125275278004,
              -7.940804296698865,
              0
            ],
            [
              112.6123493688744,
              -7.939621992888737,
              0
            ],
            [
              112.61252367148,
              -7.938745194903942,
              0
            ],
            [
              112.6119805420824,
              -7.938492753284403,
              0
            ],
            [
              112.6115630466909,
              -7.938338122285738,
              0
            ],
            [
              112.6112558979268,
              -7.9380150909596,
              0
            ],
            [
              112.6104209092774,
              -7.937410995193733,
              0
            ],
            [
              112.610271255884,
              -7.936821155674822,
              0
            ],
            [
              112.6099372206976,
              -7.936885887764756,
              0
            ],
            [
              112.609545117331,
              -7.93678159332037,
              0
            ],
            [
              112.609386320756,
              -7.936588914978461,
              0
            ],
            [
              112.6093972960927,
              -7.936099870785523,
              0
            ],
            [
              112.6087134085897,
              -7.934359110314449,
              0
            ],
            [
              112.6083970331686,
              -7.933183438337194,
              0
            ],
            [
              112.6079980621083,
              -7.932302149657857,
              0
            ],
            [
              112.6070790251944,
              -7.930997627659905,
              0
            ],
            [
              112.6064369557597,
              -7.930221885867743,
              0
            ],
            [
              112.6054931664526,
              -7.929340764261579,
              0
            ],
            [
              112.605572371816,
              -7.92857499699619,
              0
            ],
            [
              112.6044246989875,
              -7.926880055787851,
              0
            ],
            [
              112.6042949227838,
              -7.926208309472448,
              0
            ],
            [
              112.6035667810324,
              -7.925920812434087,
              0
            ],
            [
              112.6027997519058,
              -7.925088611890208,
              0
            ],
            [
              112.6012047816918,
              -7.924109541475217,
              0
            ],
            [
              112.6002246153262,
              -7.923595283624762,
              0
            ],
            [
              112.6000553693727,
              -7.922873691864777,
              0
            ],
            [
              112.5996392804572,
              -7.922354083335991,
              0
            ],
            [
              112.5986770286301,
              -7.921927516072507,
              0
            ],
            [
              112.5980514446951,
              -7.921801725404586,
              0
            ],
            [
              112.59749918591,
              -7.921234586713751,
              0
            ],
            [
              112.5964971719471,
              -7.920623171000625,
              0
            ],
            [
              112.5966537474651,
              -7.921482678537707,
              0
            ],
            [
              112.5970203261213,
              -7.922453635287114,
              0
            ],
            [
              112.5968747773405,
              -7.922879418162807,
              0
            ],
            [
              112.5970308571806,
              -7.92307002273309,
              0
            ],
            [
              112.5976255579736,
              -7.923344746932378,
              0
            ],
            [
              112.5982539166952,
              -7.923702194003494,
              0
            ],
            [
              112.5980849269858,
              -7.924177520443061,
              0
            ],
            [
              112.5976835279134,
              -7.924595825655932,
              0
            ],
            [
              112.5975019975699,
              -7.925028172841884,
              0
            ],
            [
              112.5974729233149,
              -7.925656971726227,
              0
            ],
            [
              112.5983399788044,
              -7.926327811825164,
              0
            ],
            [
              112.5983762361494,
              -7.926550809446806,
              0
            ],
            [
              112.5981460550467,
              -7.927249441491727,
              0
            ],
            [
              112.5977754788171,
              -7.928206041189545,
              0
            ],
            [
              112.5988278748865,
              -7.929002044605898,
              0
            ],
            [
              112.5988678336997,
              -7.929657028440845,
              0
            ],
            [
              112.5992453187209,
              -7.930160350230727,
              0
            ],
            [
              112.5996337723327,
              -7.93035817327303,
              0
            ],
            [
              112.6002886893236,
              -7.930477106547423,
              0
            ],
            [
              112.6002032139946,
              -7.930804447438564,
              0
            ],
            [
              112.5997125834372,
              -7.931710899824296,
              0
            ],
            [
              112.5989622519277,
              -7.932821785998089,
              0
            ],
            [
              112.5987226110513,
              -7.932918878927906,
              0
            ],
            [
              112.5984055830029,
              -7.933524648739634,
              0
            ],
            [
              112.5984818174832,
              -7.933703340258984,
              0
            ],
            [
              112.5986560526708,
              -7.933973091832351,
              0
            ],
            [
              112.5991751062287,
              -7.93571595478639,
              0
            ],
            [
              112.5989078771738,
              -7.936392229391438,
              0
            ],
            [
              112.598365389345,
              -7.937041645946127,
              0
            ],
            [
              112.5978424497784,
              -7.937606254690658,
              0
            ],
            [
              112.5977764736251,
              -7.938130139106702,
              0
            ],
            [
              112.59722564734,
              -7.937915542043611,
              0
            ],
            [
              112.596390673194,
              -7.937552305376087,
              0
            ],
            [
              112.5955449982239,
              -7.937379387932585,
              0
            ],
            [
              112.5952182695765,
              -7.937253523019259,
              0
            ],
            [
              112.5950258545393,
              -7.937264302869042,
              0
            ],
            [
              112.5945534694618,
              -7.9372103452717,
              0
            ],
            [
              112.5936587597685,
              -7.936940699854659,
              0
            ],
            [
              112.5904831249116,
              -7.936333583505338,
              0
            ],
            [
              112.5896235643953,
              -7.936362309824998,
              0
            ],
            [
              112.5887827514266,
              -7.936606029298253,
              0
            ],
            [
              112.5883325244519,
              -7.936695917873771,
              0
            ],
            [
              112.587604347561,
              -7.936767804671,
              0
            ],
            [
              112.5859378107294,
              -7.936649021500296,
              0
            ],
            [
              112.5853439569799,
              -7.935001682249655,
              0
            ],
            [
              112.5843220660496,
              -7.93483743938385,
              0
            ],
            [
              112.5843183146266,
              -7.932577537172197,
              0
            ],
            [
              112.5807656761619,
              -7.932434701182642,
              0
            ],
            [
              112.5806626101789,
              -7.930067105203649,
              0
            ],
            [
              112.577183585884,
              -7.929853988780047,
              0
            ],
            [
              112.5757179994359,
              -7.929667518583911,
              0
            ],
            [
              112.5755810513011,
              -7.929671954936649,
              0
            ],
            [
              112.5741891826413,
              -7.930279670971813,
              0
            ],
            [
              112.5719517704701,
              -7.931776080715234,
              0
            ],
            [
              112.5683284964491,
              -7.933071420632648,
              0
            ],
            [
              112.5656115125359,
              -7.933838830872854,
              0
            ],
            [
              112.5615013082025,
              -7.933221771577631,
              0
            ],
            [
              112.5577231277922,
              -7.933902510058059,
              0
            ],
            [
              112.5525332920075,
              -7.934630159344746,
              0
            ],
            [
              112.5481563756239,
              -7.93360970898453,
              0
            ],
            [
              112.5437494959413,
              -7.931359490568559,
              0
            ],
            [
              112.5419768546911,
              -7.930492944270303,
              0
            ],
            [
              112.5399060291292,
              -7.930072373254678,
              0
            ],
            [
              112.535043815773,
              -7.929620246648153,
              0
            ],
            [
              112.5297677046289,
              -7.930730116911996,
              0
            ],
            [
              112.5228815170218,
              -7.931811159278054,
              0
            ],
            [
              112.5159742495997,
              -7.931876681993012,
              0
            ],
            [
              112.5121335226242,
              -7.932231885979667,
              0
            ],
            [
              112.5073416568246,
              -7.932660012675679,
              0
            ],
            [
              112.5020246476389,
              -7.933125106810114,
              0
            ],
            [
              112.5003776908897,
              -7.933280148224398,
              0
            ],
            [
              112.4999429411446,
              -7.933284500306369,
              0
            ]
          ]
        ]
      },
      "properties": {
        "name": "SEKTOR - MALANG - KLOJEN 1",
        "styleUrl": "#__managed_style_0848205F43396B0DD80B",
        "fill-opacity": 0.6,
        "fill": "#aaffff",
        "stroke-opacity": 1,
        "stroke": "#fbc02d",
        "stroke-width": 2.56,
        "icon-scale": 1.1,
        "icon-offset": [
          20,
          62
        ],
        "icon-offset-units": [
          "pixels",
          "insetPixels"
        ],
        "icon": "data:image/png;base64,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"
      },
      "id": "5648BD0CC4000135"
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              112.5656739364265,
              -7.960314126156906,
              0
            ],
            [
              112.5606903242331,
              -7.956858585398197,
              0
            ],
            [
              112.5567284974221,
              -7.953884898174632,
              0
            ],
            [
              112.5516722907695,
              -7.953208514230185,
              0
            ],
            [
              112.5481440602695,
              -7.952185683467775,
              0
            ],
            [
              112.543475559279,
              -7.951857196958163,
              0
            ],
            [
              112.5408245769694,
              -7.951443622075952,
              0
            ],
            [
              112.5340178915532,
              -7.952696033016172,
              0
            ],
            [
              112.5245656498809,
              -7.95409715033975,
              0
            ],
            [
              112.5190935803077,
              -7.951110617249663,
              0
            ],
            [
              112.5216996028601,
              -7.960697810450115,
              0
            ],
            [
              112.5255290533711,
              -7.963297920010223,
              0
            ],
            [
              112.529019656329,
              -7.966778847099429,
              0
            ],
            [
              112.5261012280837,
              -7.973196898422835,
              0
            ],
            [
              112.5226302396588,
              -7.981959689123849,
              0
            ],
            [
              112.5261178214713,
              -7.982308006335303,
              0
            ],
            [
              112.5274008022146,
              -7.982984182440506,
              0
            ],
            [
              112.5298106175137,
              -7.983812504897544,
              0
            ],
            [
              112.5318285491741,
              -7.984928901600405,
              0
            ],
            [
              112.5362801376795,
              -7.983509859012365,
              0
            ],
            [
              112.5380572426797,
              -7.984694889799149,
              0
            ],
            [
              112.539269001369,
              -7.984673208878243,
              0
            ],
            [
              112.540352962605,
              -7.98378844559566,
              0
            ],
            [
              112.5426873615593,
              -7.984439635424049,
              0
            ],
            [
              112.5457635718911,
              -7.985465630960315,
              0
            ],
            [
              112.5482454294074,
              -7.987184301561344,
              0
            ],
            [
              112.550902252968,
              -7.987936055501335,
              0
            ],
            [
              112.5532910209424,
              -7.987478268225741,
              0
            ],
            [
              112.5541400882776,
              -7.986161284908567,
              0
            ],
            [
              112.5561406638535,
              -7.987271472357182,
              0
            ],
            [
              112.5586350722799,
              -7.987819493130455,
              0
            ],
            [
              112.5598232075392,
              -7.989009114963251,
              0
            ],
            [
              112.5619111573873,
              -7.98923791046866,
              0
            ],
            [
              112.5638411987267,
              -7.990202187408914,
              0
            ],
            [
              112.5663517935125,
              -7.989820440745875,
              0
            ],
            [
              112.5688302902647,
              -7.989259962635645,
              0
            ],
            [
              112.570854558845,
              -7.988959930715702,
              0
            ],
            [
              112.5721230097889,
              -7.989832955606346,
              0
            ],
            [
              112.5738046002272,
              -7.989911760729568,
              0
            ],
            [
              112.5748058885858,
              -7.99089966292807,
              0
            ],
            [
              112.5755470923746,
              -7.991325787229985,
              0
            ],
            [
              112.5763281665876,
              -7.991964997086986,
              0
            ],
            [
              112.5768032998959,
              -7.992883826981352,
              0
            ],
            [
              112.5782808619206,
              -7.993751037621588,
              0
            ],
            [
              112.5812536783473,
              -7.995266107631905,
              0
            ],
            [
              112.5843430746092,
              -7.996505052155276,
              0
            ],
            [
              112.5871046545768,
              -7.995826823063932,
              0
            ],
            [
              112.5884469063521,
              -7.994490191419774,
              0
            ],
            [
              112.589362963621,
              -7.992578164638239,
              0
            ],
            [
              112.5922374023736,
              -7.993015023687533,
              0
            ],
            [
              112.5940546400283,
              -7.993023682876881,
              0
            ],
            [
              112.5967604347364,
              -7.992781627609478,
              0
            ],
            [
              112.5980739381517,
              -7.992397933338138,
              0
            ],
            [
              112.5996665095303,
              -7.992450844636106,
              0
            ],
            [
              112.6006697968341,
              -7.992614873533663,
              0
            ],
            [
              112.601973574353,
              -7.992990556046469,
              0
            ],
            [
              112.6025610603,
              -7.99213925418785,
              0
            ],
            [
              112.6048069754467,
              -7.993237175096448,
              0
            ],
            [
              112.6050530810717,
              -7.993541765468616,
              0
            ],
            [
              112.6055987835831,
              -7.993640780893791,
              0
            ],
            [
              112.6063764078264,
              -7.994020823303002,
              0
            ],
            [
              112.6070067002331,
              -7.994398693238043,
              0
            ],
            [
              112.6085419228308,
              -7.994543758111783,
              0
            ],
            [
              112.6110882247565,
              -7.994587587296065,
              0
            ],
            [
              112.6103420616401,
              -7.992423794363964,
              0
            ],
            [
              112.6100865204802,
              -7.991007671332913,
              0
            ],
            [
              112.610014961968,
              -7.9900452273555,
              0
            ],
            [
              112.6101546334071,
              -7.989062972958241,
              0
            ],
            [
              112.610508678514,
              -7.98790403346226,
              0
            ],
            [
              112.6110552256548,
              -7.987011546325815,
              0
            ],
            [
              112.6114197607488,
              -7.986637040256976,
              0
            ],
            [
              112.6114125410115,
              -7.985099041743365,
              0
            ],
            [
              112.6117793511811,
              -7.984496163271204,
              0
            ],
            [
              112.6124421641324,
              -7.984131045849761,
              0
            ],
            [
              112.6133283637635,
              -7.984136586603661,
              0
            ],
            [
              112.6143090822513,
              -7.983948074906664,
              0
            ],
            [
              112.6143210953484,
              -7.983533496110253,
              0
            ],
            [
              112.615104548275,
              -7.983384016862353,
              0
            ],
            [
              112.6148865191058,
              -7.982098889185941,
              0
            ],
            [
              112.6148697470777,
              -7.981659948329358,
              0
            ],
            [
              112.6147667248176,
              -7.981171181137763,
              0
            ],
            [
              112.6150566220946,
              -7.980266981022024,
              0
            ],
            [
              112.6148266169355,
              -7.979788783952386,
              0
            ],
            [
              112.6147834910759,
              -7.979492202471999,
              0
            ],
            [
              112.614860158601,
              -7.979300017009349,
              0
            ],
            [
              112.6162786639327,
              -7.977726940331161,
              0
            ],
            [
              112.61686564265,
              -7.977094394741112,
              0
            ],
            [
              112.6170662528929,
              -7.977208280752743,
              0
            ],
            [
              112.6174447952301,
              -7.977165569839124,
              0
            ],
            [
              112.6176628186172,
              -7.977293691125769,
              0
            ],
            [
              112.6181373169141,
              -7.977370325539427,
              0
            ],
            [
              112.6184367781746,
              -7.977487714658013,
              0
            ],
            [
              112.6193511182153,
              -7.97757626947138,
              0
            ],
            [
              112.6199542047319,
              -7.977755440958425,
              0
            ],
            [
              112.6201337569155,
              -7.977440532582464,
              0
            ],
            [
              112.6204581702378,
              -7.976210322080743,
              0
            ],
            [
              112.6205891826051,
              -7.975871137776506,
              0
            ],
            [
              112.6197587245282,
              -7.975426140733421,
              0
            ],
            [
              112.6190721732701,
              -7.975136210386366,
              0
            ],
            [
              112.6182892563932,
              -7.974897605642283,
              0
            ],
            [
              112.6175073331102,
              -7.974646351029928,
              0
            ],
            [
              112.6168708926667,
              -7.974352302964625,
              0
            ],
            [
              112.6164757731902,
              -7.974131938990301,
              0
            ],
            [
              112.6158858721744,
              -7.973697846442747,
              0
            ],
            [
              112.6156086179244,
              -7.973407181176824,
              0
            ],
            [
              112.6145044497939,
              -7.973349708247356,
              0
            ],
            [
              112.6129851437468,
              -7.973271433516688,
              0
            ],
            [
              112.6110176149937,
              -7.973164313405025,
              0
            ],
            [
              112.6091464403879,
              -7.972967358005586,
              0
            ],
            [
              112.6085199927239,
              -7.972808668004406,
              0
            ],
            [
              112.6072117536926,
              -7.972451583609758,
              0
            ],
            [
              112.6066119953525,
              -7.972276513031842,
              0
            ],
            [
              112.6060627068268,
              -7.972445374202617,
              0
            ],
            [
              112.6059185175043,
              -7.972204045173368,
              0
            ],
            [
              112.6045444230059,
              -7.971317255996233,
              0
            ],
            [
              112.6034572704584,
              -7.971352230745993,
              0
            ],
            [
              112.602957655916,
              -7.970972984865885,
              0
            ],
            [
              112.6023369885597,
              -7.970753445825999,
              0
            ],
            [
              112.6010664720002,
              -7.970200484224049,
              0
            ],
            [
              112.5990424577392,
              -7.969297997102104,
              0
            ],
            [
              112.5965937349339,
              -7.968236484258624,
              0
            ],
            [
              112.5948493206877,
              -7.967496979231324,
              0
            ],
            [
              112.5945208639387,
              -7.968133096660771,
              0
            ],
            [
              112.5941342027312,
              -7.969052154503441,
              0
            ],
            [
              112.5937122736591,
              -7.970462113352101,
              0
            ],
            [
              112.591905468221,
              -7.971846683523957,
              0
            ],
            [
              112.5893096139876,
              -7.969894095096516,
              0
            ],
            [
              112.5884203728448,
              -7.969211809501512,
              0
            ],
            [
              112.5867364957528,
              -7.968357243883357,
              0
            ],
            [
              112.5848554503031,
              -7.967579504167304,
              0
            ],
            [
              112.5829318096167,
              -7.96680494434755,
              0
            ],
            [
              112.5809562573525,
              -7.965246509054192,
              0
            ],
            [
              112.5794159293759,
              -7.96405564679841,
              0
            ],
            [
              112.5764288620415,
              -7.961754262184265,
              0
            ],
            [
              112.5749291689702,
              -7.96168099725323,
              0
            ],
            [
              112.5715350057781,
              -7.961025378610382,
              0
            ],
            [
              112.5706956979069,
              -7.960852289229897,
              0
            ],
            [
              112.5656739364265,
              -7.960314126156906,
              0
            ]
          ]
        ]
      },
      "properties": {
        "name": "SEKTOR - MALANG - KLOJEN 2",
        "styleUrl": "#__managed_style_09ECAD401B396B0DD80C",
        "fill-opacity": 0.6,
        "fill": "#55aaff",
        "stroke-opacity": 1,
        "stroke": "#fbc02d",
        "stroke-width": 2.56,
        "icon-scale": 1.1,
        "icon-offset": [
          20,
          62
        ],
        "icon-offset-units": [
          "pixels",
          "insetPixels"
        ],
        "icon": "data:image/png;base64,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"
      },
      "id": "5648BD0CC400014A"
    }
  ]
}
);


const mapCenter = computed(() => {
    if (props.areas.length > 0 && props.areas[0].lat && props.areas[0].lng) {
        return [parseFloat(props.areas[0].lat), parseFloat(props.areas[0].lng)];
    }
    return [-7.9666204, 112.6326321]; // Pusat Malang
});

// ✅ Styling untuk poligon (warna arsir, garis batas) - Sekarang dinamis berdasarkan 'color' properti
const geoJsonOptions = computed(() => {
  return {
    style: (feature) => {
      // Menggunakan properti 'color' dari fitur GeoJSON
      return {
        fillColor: feature.properties.color || '#8888ff', // Gunakan warna dari properti, fallback ke biru muda
        weight: 2,
        opacity: 1,
        color: feature.properties.color || '#0000ff', // Gunakan warna dari properti, fallback ke biru
        fillOpacity: 0.5 // Opasitas arsir
      };
    },
    onEachFeature: (feature, layer) => {
      // Menambahkan popup saat mengklik area yang diarsir
      if (feature.properties && feature.properties.name) {
        layer.bindPopup(`<h3>${feature.properties.name}</h3><p>${feature.properties.description || ''}</p>`);
      }
    }
  };
});
</script>

<template>
  <div class="h-full w-full">
    <LMap :zoom="13" :center="mapCenter" class="h-full w-full">
      <LTileLayer
        url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
      />

      <LGeoJson :geojson="multipleAreasGeoJson" :options="geoJsonOptions" />

      <LMarker
        v-for="area in props.areas"
        :key="area.id"
        :lat-lng="[parseFloat(area.lat), parseFloat(area.lng)]"
        :icon="unionIcon" 
      >
        <LPopup>
          <div class="popup-content bg-white rounded-lg text-sm p-2 inline-block w-[260px] max-w-xs space-y-2">
            <div class="flex items-center mb-2">
                <img
                  :src="area.image ? `/images/${area.image}` : '/images/default.png'"
                  alt="Area Image"
                  class="w-12 h-12 object-cover rounded mr-2"
                />
                <div>
                    <strong class="block text-base">{{ area.name || 'N/A' }}</strong>
                    <span :class="['inline-block px-2 py-0.5 rounded-full text-xs font-semibold', area.status === 'Aktif' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700']">
                        {{ area.status || 'Tidak Aktif' }}
                    </span>
                </div>
            </div>
            <!-- <div class="space-y-1">
                <p class="flex items-center justify-between" v-if="area.stoName"> <span class="flex items-center text-[#71717A]"> 
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1"> 
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" />
                        </svg>
                        <span class="font-reguler">Nama STO:</span>
                    </span>
                    <span class="text-right font-semibold">{{ area.stoName }}</span> </p>

                <p class="flex items-center justify-between" v-if="area.capacity"> <span class="flex items-center text-[#71717A]"> 
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z" />
                          </svg>
                        <span class="font-reguler">Kapasitas:</span>
                    </span>
                    <span class="text-right font-semibold">{{ area.capacity }}</span> </p>

                <p class="flex items-center justify-between" v-if="area.address"> <span class="flex items-center text-[#71717A]"> 
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                        </svg>
                        <span class="font-reguler">Alamat:</span>
                    </span>
                    <span class="text-right font-semibold">{{ area.address }}</span> </p>
            </div> -->
            <div class="space-y-1 text-sm">
              <div v-if="area.stoName" class="grid grid-cols-[100px_1fr] items-start">
                <div class="flex items-center text-[#71717A]">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1"> 
                          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" />
                      </svg>
                    <span class="font-reguler">Nama STO:</span>
                </div>
                <div class="text-right font-semibold">{{ area.stoName }}</div>
              </div>

              <div v-if="area.capacity" class="grid grid-cols-[100px_1fr] items-start">
                <div class="flex items-center text-[#71717A]">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z" />
                      </svg>
                    <span class="font-reguler">Kapasitas:</span>
                </div>
                <div class="text-right font-semibold">{{ area.capacity }}</div>
              </div>

              <div v-if="area.address" class="grid grid-cols-[100px_1fr] items-start">
                <div class="flex items-center text-[#71717A]">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                  </svg>
                  <span class="font-reguler">Alamat:</span>
                </div>
                <div class="text-right font-semibold break-words">{{ area.address }}</div>
              </div>
            </div>
          </div>
        </LPopup>
      </LMarker>
    </LMap>
  </div>
</template>